import{_ as I,p as g,v as N,c as e,o as i,t as o,j as a,F as p,B as h,e as G,a as $,n as D,G as B}from"./chunks/framework.tuuL-SzM.js";const E={class:"gitlab-integration"},M={key:0,class:"loading"},P={key:1,class:"error"},F={key:2},O={class:"projects"},V={class:"project-grid"},z=["href"],Y={class:"description"},R={class:"project-stats"},q={key:0,class:"language"},J={class:"visibility"},W={class:"stars"},H={class:"forks"},K={key:0,class:"topics"},Q={class:"contribution-graph"},U={class:"graph"},X=["title"],Z={__name:"GitLabIntegration",setup(x){const v=g([]),d=g([]),b=g(!0),y=g(null),L="Cinoma25",A="glpat-uNs-StENg2xgMeqCc3Ym",C=()=>{};async function S(){try{C();const r=await fetch(`https://gitlab.com/api/v4/users/${L}/projects?order_by=updated_at&sort=desc&per_page=6`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`GitLab API error: ${r.statusText}`);const c=await r.json();v.value=c.map(s=>({name:s.name,description:s.description,stars:s.star_count,forks:s.forks_count,url:s.web_url,language:s.main_language||null,topics:s.topics,visibility:s.visibility,lastActivityAt:s.last_activity_at}));const t=new Date,l=new Date(t.setFullYear(t.getFullYear()-1)),n=await fetch(`https://gitlab.com/api/v4/users/${L}/events?after=${l.toISOString()}`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`GitLab API error: ${n.statusText}`);const f=await n.json(),m=new Map;f.forEach(s=>{const _=s.created_at.split("T")[0];m.set(_,(m.get(_)||0)+1)});const k=[];let u=[];for(let s=new Date(l);s<=t;s.setDate(s.getDate()+1)){const _=s.toISOString().split("T")[0],w=m.get(_)||0,T=w===0?0:Math.min(Math.ceil(w/2),4);u.push({date:_,count:w,intensity:T}),u.length===7&&(k.push(u),u=[])}u.length>0&&k.push(u),d.value=k,b.value=!1}catch(r){console.error("Error:",r),y.value=r.message||"Failed to load GitLab data",b.value=!1}}return N(()=>{S()}),(r,c)=>(i(),e("div",E,[b.value?(i(),e("div",M," Loading GitLab data... ")):y.value?(i(),e("div",P,o(y.value),1)):(i(),e("div",F,[a("div",O,[c[0]||(c[0]=a("h2",null,"Latest Projects",-1)),a("div",V,[(i(!0),e(p,null,h(v.value,t=>{var l;return i(),e("div",{key:t.name,class:"project-card"},[a("h3",null,[a("a",{href:t.url,target:"_blank"},o(t.name),9,z)]),a("p",Y,o(t.description),1),a("div",R,[t.language?(i(),e("span",q,[a("span",{class:D(["lang-dot",(l=t.language)==null?void 0:l.toLowerCase()])},null,2),$(" "+o(t.language),1)])):G("",!0),a("span",J,o(t.visibility),1),a("span",W,"⭐ "+o(t.stars),1),a("span",H,"🍴 "+o(t.forks),1)]),t.topics&&t.topics.length?(i(),e("div",K,[(i(!0),e(p,null,h(t.topics,n=>(i(),e("span",{key:n,class:"topic"},o(n),1))),128))])):G("",!0)])}),128))])]),a("div",Q,[c[1]||(c[1]=a("h2",null,"Contribution Activity",-1)),a("div",U,[(i(!0),e(p,null,h(d.value,(t,l)=>(i(),e("div",{key:l,class:"week"},[(i(!0),e(p,null,h(t,(n,f)=>(i(),e("div",{key:f,class:D(["day","level-"+n.intensity]),title:`${n.date}: ${n.count} contributions`},null,10,X))),128))]))),128))])])]))]))}},j=I(Z,[["__scopeId","data-v-38870f26"]]),at=JSON.parse('{"title":"GitLab Activity","description":"","frontmatter":{"title":"GitLab Activity"},"headers":[],"relativePath":"projects/gitlab.md","filePath":"projects/gitlab.md"}'),tt={name:"projects/gitlab.md"},et=Object.assign(tt,{setup(x){return(v,d)=>(i(),e("div",null,[d[0]||(d[0]=a("h1",{id:"gitlab-activity",tabindex:"-1"},[$("GitLab Activity "),a("a",{class:"header-anchor",href:"#gitlab-activity","aria-label":'Permalink to "GitLab Activity"'},"​")],-1)),B(j)]))}});export{at as __pageData,et as default};
