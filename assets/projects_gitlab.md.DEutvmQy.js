import{_ as B,p as g,v as C,c as a,o as i,t as o,j as s,F as h,B as p,e as A,a as D,n as T,G as P}from"./chunks/framework.DNDrcSyN.js";const S={class:"gitlab-integration"},N={key:0,class:"loading"},F={key:1,class:"error"},M={key:2},O={class:"projects"},V={class:"project-grid"},z=["href"],R={class:"description"},Y={class:"project-stats"},J={key:0,class:"language"},K={class:"visibility"},W={class:"stars"},q={class:"forks"},H={key:0,class:"topics"},Q={class:"contribution-graph"},U={class:"graph"},X=["title"],Z={__name:"GitLabIntegration",setup($){const v=g([]),u=g([]),b=g(!0),f=g(null),L=void 0,G=void 0,I=()=>{throw new Error("GitLab token not configured. Please set VITE_GITLAB_TOKEN in your .env file.")};async function x(){try{I();const r=await fetch(`https://gitlab.com/api/v4/users/${L}/projects?order_by=updated_at&sort=desc&per_page=6`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`GitLab API error: ${r.statusText}`);const c=await r.json();v.value=c.map(e=>({name:e.name,description:e.description,stars:e.star_count,forks:e.forks_count,url:e.web_url,language:e.main_language||null,topics:e.topics,visibility:e.visibility,lastActivityAt:e.last_activity_at}));const t=new Date,l=new Date(t.setFullYear(t.getFullYear()-1)),n=await fetch(`https://gitlab.com/api/v4/users/${L}/events?after=${l.toISOString()}`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`GitLab API error: ${n.statusText}`);const y=await n.json(),m=new Map;y.forEach(e=>{const _=e.created_at.split("T")[0];m.set(_,(m.get(_)||0)+1)});const k=[];let d=[];for(let e=new Date(l);e<=t;e.setDate(e.getDate()+1)){const _=e.toISOString().split("T")[0],w=m.get(_)||0,E=w===0?0:Math.min(Math.ceil(w/2),4);d.push({date:_,count:w,intensity:E}),d.length===7&&(k.push(d),d=[])}d.length>0&&k.push(d),u.value=k,b.value=!1}catch(r){console.error("Error:",r),f.value=r.message||"Failed to load GitLab data",b.value=!1}}return C(()=>{x()}),(r,c)=>(i(),a("div",S,[b.value?(i(),a("div",N," Loading GitLab data... ")):f.value?(i(),a("div",F,o(f.value),1)):(i(),a("div",M,[s("div",O,[c[0]||(c[0]=s("h2",null,"Latest Projects",-1)),s("div",V,[(i(!0),a(h,null,p(v.value,t=>{var l;return i(),a("div",{key:t.name,class:"project-card"},[s("h3",null,[s("a",{href:t.url,target:"_blank"},o(t.name),9,z)]),s("p",R,o(t.description),1),s("div",Y,[t.language?(i(),a("span",J,[s("span",{class:T(["lang-dot",(l=t.language)==null?void 0:l.toLowerCase()])},null,2),D(" "+o(t.language),1)])):A("",!0),s("span",K,o(t.visibility),1),s("span",W,"â­ "+o(t.stars),1),s("span",q,"ðŸ´ "+o(t.forks),1)]),t.topics&&t.topics.length?(i(),a("div",H,[(i(!0),a(h,null,p(t.topics,n=>(i(),a("span",{key:n,class:"topic"},o(n),1))),128))])):A("",!0)])}),128))])]),s("div",Q,[c[1]||(c[1]=s("h2",null,"Contribution Activity",-1)),s("div",U,[(i(!0),a(h,null,p(u.value,(t,l)=>(i(),a("div",{key:l,class:"week"},[(i(!0),a(h,null,p(t,(n,y)=>(i(),a("div",{key:y,class:T(["day","level-"+n.intensity]),title:`${n.date}: ${n.count} contributions`},null,10,X))),128))]))),128))])])]))]))}},j=B(Z,[["__scopeId","data-v-38870f26"]]),st=JSON.parse('{"title":"GitLab Activity","description":"","frontmatter":{"title":"GitLab Activity"},"headers":[],"relativePath":"projects/gitlab.md","filePath":"projects/gitlab.md"}'),tt={name:"projects/gitlab.md"},at=Object.assign(tt,{setup($){return(v,u)=>(i(),a("div",null,[u[0]||(u[0]=s("h1",{id:"gitlab-activity",tabindex:"-1"},[D("GitLab Activity "),s("a",{class:"header-anchor",href:"#gitlab-activity","aria-label":'Permalink to "GitLab Activity"'},"â€‹")],-1)),P(j)]))}});export{st as __pageData,at as default};
