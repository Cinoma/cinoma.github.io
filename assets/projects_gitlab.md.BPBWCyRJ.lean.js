import{_ as $,p as g,v as I,c as e,o as i,t as n,j as s,F as w,B as L,e as G,a as A,n as N,G as B}from"./chunks/framework.UNo1JXUQ.js";const E={class:"gitlab-integration"},M={key:0,class:"loading"},P={key:1,class:"error"},F={key:2},O={class:"projects"},V={class:"project-grid"},z=["href"],Y={class:"description"},R={class:"project-stats"},q={key:0,class:"language"},J={class:"visibility"},W={class:"stars"},H={class:"forks"},K={key:0,class:"topics"},Q={__name:"GitLabIntegration",setup(D){const p=g([]),u=g([]),h=g(!0),v=g(null),m="Cinoma25",k="glpat-uNs-StENg2xgMeqCc3Ym",x=()=>{};async function C(){try{x();const o=await fetch(`https://gitlab.com/api/v4/users/${m}/projects?order_by=updated_at&sort=desc&per_page=6`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error(`GitLab API error: ${o.statusText}`);const _=await o.json();p.value=_.map(a=>({name:a.name,description:a.description,stars:a.star_count,forks:a.forks_count,url:a.web_url,language:a.main_language||null,topics:a.topics,visibility:a.visibility,lastActivityAt:a.last_activity_at}));const t=new Date,l=new Date(t.setFullYear(t.getFullYear()-1)),r=await fetch(`https://gitlab.com/api/v4/users/${m}/events?after=${l.toISOString()}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`GitLab API error: ${r.statusText}`);const S=await r.json(),b=new Map;S.forEach(a=>{const d=a.created_at.split("T")[0];b.set(d,(b.get(d)||0)+1)});const f=[];let c=[];for(let a=new Date(l);a<=t;a.setDate(a.getDate()+1)){const d=a.toISOString().split("T")[0],y=b.get(d)||0,T=y===0?0:Math.min(Math.ceil(y/2),4);c.push({date:d,count:y,intensity:T}),c.length===7&&(f.push(c),c=[])}c.length>0&&f.push(c),u.value=f,h.value=!1}catch(o){console.error("Error:",o),v.value=o.message||"Failed to load GitLab data",h.value=!1}}return I(()=>{C()}),(o,_)=>(i(),e("div",E,[h.value?(i(),e("div",M," Loading GitLab data... ")):v.value?(i(),e("div",P,n(v.value),1)):(i(),e("div",F,[s("div",O,[_[0]||(_[0]=s("h2",null,"Latest Projects",-1)),s("div",V,[(i(!0),e(w,null,L(p.value,t=>{var l;return i(),e("div",{key:t.name,class:"project-card"},[s("h3",null,[s("a",{href:t.url,target:"_blank"},n(t.name),9,z)]),s("p",Y,n(t.description),1),s("div",R,[t.language?(i(),e("span",q,[s("span",{class:N(["lang-dot",(l=t.language)==null?void 0:l.toLowerCase()])},null,2),A(" "+n(t.language),1)])):G("",!0),s("span",J,n(t.visibility),1),s("span",W,"⭐ "+n(t.stars),1),s("span",H,"🍴 "+n(t.forks),1)]),t.topics&&t.topics.length?(i(),e("div",K,[(i(!0),e(w,null,L(t.topics,r=>(i(),e("span",{key:r,class:"topic"},n(r),1))),128))])):G("",!0)])}),128))])])]))]))}},U=$(Q,[["__scopeId","data-v-1666b371"]]),j=JSON.parse('{"title":"GitLab Activity","description":"","frontmatter":{"title":"GitLab Activity"},"headers":[],"relativePath":"projects/gitlab.md","filePath":"projects/gitlab.md"}'),X={name:"projects/gitlab.md"},tt=Object.assign(X,{setup(D){return(p,u)=>(i(),e("div",null,[u[0]||(u[0]=s("h1",{id:"gitlab-activity",tabindex:"-1"},[A("GitLab Activity "),s("a",{class:"header-anchor",href:"#gitlab-activity","aria-label":'Permalink to "GitLab Activity"'},"​")],-1)),B(U)]))}});export{j as __pageData,tt as default};
