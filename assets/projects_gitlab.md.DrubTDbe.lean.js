import{_ as S,p as g,v as C,c as a,o as i,t as o,j as s,F as h,B as p,e as G,a as E,n as D,G as N}from"./chunks/framework.DNDrcSyN.js";const B={class:"gitlab-integration"},M={key:0,class:"loading"},P={key:1,class:"error"},F={key:2},V={class:"projects"},O={class:"project-grid"},z=["href"],R={class:"description"},Y={class:"project-stats"},q={key:0,class:"language"},J={class:"visibility"},U={class:"stars"},W={class:"forks"},H={key:0,class:"topics"},K={class:"contribution-graph"},Q={class:"graph"},X=["title"],Z={__name:"GitLabIntegration",setup(T){const v=g([]),d=g([]),b=g(!0),f=g(null),L=void 0,A="glpat-uNs-StENg2xgMeqCc3Ym",$=()=>{throw new Error("GitLab username not configured. Please set VITE_GITLAB_USERNAME in your .env file.")};async function x(){try{$();const r=await fetch(`https://gitlab.com/api/v4/users/${L}/projects?order_by=updated_at&sort=desc&per_page=6`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`GitLab API error: ${r.statusText}`);const c=await r.json();v.value=c.map(e=>({name:e.name,description:e.description,stars:e.star_count,forks:e.forks_count,url:e.web_url,language:e.main_language||null,topics:e.topics,visibility:e.visibility,lastActivityAt:e.last_activity_at}));const t=new Date,l=new Date(t.setFullYear(t.getFullYear()-1)),n=await fetch(`https://gitlab.com/api/v4/users/${L}/events?after=${l.toISOString()}`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`GitLab API error: ${n.statusText}`);const y=await n.json(),m=new Map;y.forEach(e=>{const _=e.created_at.split("T")[0];m.set(_,(m.get(_)||0)+1)});const k=[];let u=[];for(let e=new Date(l);e<=t;e.setDate(e.getDate()+1)){const _=e.toISOString().split("T")[0],w=m.get(_)||0,I=w===0?0:Math.min(Math.ceil(w/2),4);u.push({date:_,count:w,intensity:I}),u.length===7&&(k.push(u),u=[])}u.length>0&&k.push(u),d.value=k,b.value=!1}catch(r){console.error("Error:",r),f.value=r.message||"Failed to load GitLab data",b.value=!1}}return C(()=>{x()}),(r,c)=>(i(),a("div",B,[b.value?(i(),a("div",M," Loading GitLab data... ")):f.value?(i(),a("div",P,o(f.value),1)):(i(),a("div",F,[s("div",V,[c[0]||(c[0]=s("h2",null,"Latest Projects",-1)),s("div",O,[(i(!0),a(h,null,p(v.value,t=>{var l;return i(),a("div",{key:t.name,class:"project-card"},[s("h3",null,[s("a",{href:t.url,target:"_blank"},o(t.name),9,z)]),s("p",R,o(t.description),1),s("div",Y,[t.language?(i(),a("span",q,[s("span",{class:D(["lang-dot",(l=t.language)==null?void 0:l.toLowerCase()])},null,2),E(" "+o(t.language),1)])):G("",!0),s("span",J,o(t.visibility),1),s("span",U,"⭐ "+o(t.stars),1),s("span",W,"🍴 "+o(t.forks),1)]),t.topics&&t.topics.length?(i(),a("div",H,[(i(!0),a(h,null,p(t.topics,n=>(i(),a("span",{key:n,class:"topic"},o(n),1))),128))])):G("",!0)])}),128))])]),s("div",K,[c[1]||(c[1]=s("h2",null,"Contribution Activity",-1)),s("div",Q,[(i(!0),a(h,null,p(d.value,(t,l)=>(i(),a("div",{key:l,class:"week"},[(i(!0),a(h,null,p(t,(n,y)=>(i(),a("div",{key:y,class:D(["day","level-"+n.intensity]),title:`${n.date}: ${n.count} contributions`},null,10,X))),128))]))),128))])])]))]))}},j=S(Z,[["__scopeId","data-v-38870f26"]]),st=JSON.parse('{"title":"GitLab Activity","description":"","frontmatter":{"title":"GitLab Activity"},"headers":[],"relativePath":"projects/gitlab.md","filePath":"projects/gitlab.md"}'),tt={name:"projects/gitlab.md"},at=Object.assign(tt,{setup(T){return(v,d)=>(i(),a("div",null,[d[0]||(d[0]=s("h1",{id:"gitlab-activity",tabindex:"-1"},[E("GitLab Activity "),s("a",{class:"header-anchor",href:"#gitlab-activity","aria-label":'Permalink to "GitLab Activity"'},"​")],-1)),N(j)]))}});export{st as __pageData,at as default};
